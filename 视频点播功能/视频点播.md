# 一、实现方式

视频播放功能实现一般分为以下集中实现方式

* 我们上传视频到云平台的对象存储服务中，例如阿里云的OSS服务，如果是大文件上传直接采用分片上传的方式完成上传加速功能，上传后返回给服务端URL存储视频的URL到数据库，前端在播放空间上指定视频URL执行播放，这种方式播放视频时会有一个问题那就是，前端需要把服务器上的视频全部加载完之后才能播放，视频小一些的还好，如果是大一些的视频就会导致播放缓慢，需要等很久才能播放出视频
* 上面的方式主要问题就是在于视频存储的格式有问题，如果存储一个mp4格式的视频URL给前端播放就会有这种问题，我们只需要对视频做格式转换就可以解决问题，可以在把mp4视频上传到OSS之前先用Ffmpeg工具把mp4视频转换程m3u8的格式，然后把m3u8格式的视频上传到OSS，然后把返回的m3u8格式视频URL保存到数据库让前端放问这个URL加载视频，这里有一个参考文章：https://blog.csdn.net/Sunshine_Moon/article/details/102524173
* 上面的方式是自己处理视频格式，实现起来比较麻烦，如果我们直接使用云平台的视频点播服务就可以避免自己处理视频格式了，这是一种更专业的方案，以腾讯云点播服务为例：我们可以在上传文件时指定要完成的任务，这个任务我们可以配置转自适应码流功能，也就是说我们使用腾讯云的SDK上传文件后就可以对我们上传后的视频文件自动做转码操作，然后通过回调地址或主动查询的方式得到转码后的结果m3u8地址URL，我们直接存储这个地址让前端使用就可以，文档地址：https://cloud.tencent.com/document/product/266/34071

m3u8文件：就是一个`.m3u8`文件和多个`.ts`文件的集合，他们合起来就是原先的mp4文件，播放时使用`.m3u8`文件地址，这个文件相当于这个集合的摘要文件